<div class="container mt-1" style="margin-bottom: 240px;">
    <h2>Editar Usuarios</h2>
    <div class="mb-3">
      <label for="searchEmail" class="form-label">Buscar por Email:</label>
      <input 
        id="searchEmail" 
        class="form-control" 
        type="text" 
        [(ngModel)]="searchEmail" 
        (ngModelChange)="filterUsers()"
        placeholder="Escribe el email..."
      />
    </div>
  
    <table class="table table-striped">
      <thead>
        <tr>
          <th class="p-1">Email</th>
          <th class="p-1">Rol</th>
          <th class="p-1">Última Conexión</th>
          <th class="p-1">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of filteredUsers">
          <td class="py-1">{{ user.email }}</td>
          <td class="py-1">{{ user.role }}</td>
          <td class="py-1">{{ user.ultimaConexion | date:'dd/MM/yyyy HH:mm:ss' }}</td>
          <td class="py-1">
            <button class="btn btn-primary btn-sm me-1" (click)="selectUser(user)">
              <i class="bi bi-pencil"></i>
            </button>
            <button class="btn btn-danger btn-sm" (click)="deleteUser(user)">
              <i class="bi bi-trash"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  
    <!-- Formulario para actualizar rol -->
    <div *ngIf="selectedUser" class="mt-3">
      <h3>Editar Rol</h3>
      <form (ngSubmit)="updateUser()">
        <div class="mb-2">
          <label for="email" class="form-label">Email:</label>
          <input id="email" class="form-control" [value]="selectedUser.email" readonly />
        </div>
        <div class="mb-2">
          <label for="role" class="form-label">Nuevo Rol:</label>
          <input id="role" class="form-control" [(ngModel)]="newRole" name="role" />
        </div>
        <button type="submit" class="btn btn-success">Guardar Cambios</button>
        <button type="button" class="btn btn-secondary ms-2" (click)="selectedUser = null">Cancelar</button>
      </form>
    </div>
  </div>
  